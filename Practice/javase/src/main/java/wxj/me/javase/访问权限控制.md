# 访问控制权限

作为一名类库设计人员，会尽可能将一切方法都定为 `private`，而仅向客户端程序员公开你愿意让他们使用的方法。访问权限的等级，从最大到最小权限依次为：`public`、`protected`、包访问权限（没有关键字）、和`parivate`。



## 包：库单元

一台机器上可能存在多个名字相同的类文件，如: A.java。当我们在程序中，需要使用类文件 A 时，我们是如何来区分调用的是哪个类 A 的呢？这就引入了一个概念，“包”，Java 中的关键字是 “package”。包内包含了一组类，这些类被组织在了一个名字空间下，来解决类名之间的冲突。

**编译单元**

当编写一个 Java 源代码文件 xx.java 时，这个文件通常被称为编译单元。每一个编译单元内有且只有一个 public 类，并且这个类的名称必须与文件的名称相同（不包括后缀名.java）。如果该编译单元内，还有其他类的话，那么这些类在包之外是不可见的，因为它们不是 public 类，主要是用来为主 pubic 提供支持。

**组织代码**

当编译一个 .java 文件的时，在 .java 文件中的每个类都会有一输出文件，该文件输出文件的名称与 .java 文件中每个类的名称相同，只是多了一个后缀名 .class。因此在编译少量的 .java 文件之后会得到大量的 .class 文件。Java 的可运行程序是一组可以打包并压缩为一个 Java 文档文件（JAR，使用 Java 的 jar 文档生成器）的 .class 文件。

如果想让编译单元文件从属于同一群组，就可以使用关键字 `package`。在代码上的表现就是，在编译单元文件 .java 文件的起始处写上`package access;` 该语句申明，此编译单元属于名为 access 包的一部分，即位于 access 名称的保护伞下。如果有一个类 MyClass.java 申明了该语句，要访问该类有两种方式：一种是使用全名 `access.MyClass`；另外一种使用 `import` 关键字  `import access.MyClass`。

**包名与系统目录结构**

从上面的描述我们可以看到，只要在编译单元中申明了 package 语句，我们就认为这个编译单元属于这个包。但是这个些文件可以存在机器的任何地方啊，Java 程序编译后产生的 .class 文件是存放在哪的呢？程序运行的时候是怎么找到并加装这些 .class 文件的呢？

为了方便的查找与加载编译生成的文件，一种方法是，将指明了特定包限定的编译单元，编译后生成的 .calss 文件都置于一个目录下。也就是说，利用操作系统的层次化的目录结构来解决这一问题。具体方法是，将 .class 文件路径位置编码成 package 的名称来实现。把 package 名称分解成机器上的一个目录，当 Java 程序运行需要加载 .class 文件的时候，根据该目录结构就可以确定 .class 的位置。

**查找 .class 文件**

Java 解释器的运行过程如下 ：首先，找出环境变量 CLASSPATH（可通过操作系统来设置）。CLASSPATH 包含一个或多个目录，用作查找 .class 文件的根目录。从根目录开始，解释器获取包的名称并将每个 “.” 替换成反斜杠，以从 CLASSPATH 根中产生一个路径名称（于是，package foo.bar.baz 就变成为 foo\bar\baz 或 foo/bar/baz 或其他，取决于操作系统）。得到的路径会与 CLASSPATH 中的各个不同的项相连接，解释器就在这些目录中查找与你所需要创建的类名称相关的 .class 文件。（解释器还会去查找某些涉及 Java 解释器所在位置的标准目录。）